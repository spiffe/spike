<!DOCTYPE HTML>
<html>
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="/main.css">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <link rel="icon" href="https://spike.ist/assets/spike-favicon-16x16.png">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <title> SPIKE | SPIKE Quickstart Guide </title>
</head>
<body>

<main>
    
    <nav>
  <script>
    fetch('https://api.github.com/repos/spiffe/spike/releases/latest')
        .then(response => response.json())
        .then(data => {
            const release = document.getElementById('release');
            const icon = '<i class="bx bx-package"></i>';
            release.href = data.name ? data.html_url : 'https://api.github.com/repos/spiffe/spike/releases';
            release.innerHTML = icon + (data.name ? ' ' + data.name : ' Releases');
        });
</script>
<div id="banner">
    <a href="https://spike.ist">
        <img id="banner-image" src="https://spike.ist/assets/spike-banner.png" alt="logo" />
    </a>
    <div id="banner-body">
        <a class="banner-title" href="https://spike.ist">
            SPIKE
        </a>
        <span class="banner-tagline">
            Secure your secrets<br> with SPIFFE.
        </span>
        <a id="release" class="banner-link" href="https://github.com/spiffe/spike/releases">
            <i class='bx bx-package'></i>
        </a>
        <a href="https://github.com/spiffe/spike" class="banner-link">
            <i class='bx bxl-github'></i> GitHub
        </a>

    </div>
</div>
<style>
   /* Banner on top of the nav */
   #banner {
        position: sticky;
        background-color: var(--bg-primary);
        z-index: 100;
        top: 0;
        display: flex;
        flex-direction: row;
        padding: 1rem;
        border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        margin-bottom: 1rem;
    }

    #banner img {
        width: 100px;
        height: auto;
    }

    #banner-body {
        flex: 1;
        display: flex;
        flex-direction: column;
        align-items: flex-start;
        justify-content: space-between;
        margin-left: 1rem;
    }

    .banner-title {
        font-size: 1.75rem;
        font-weight: 700;
        letter-spacing: 0.05em;
        text-transform: uppercase;
        margin-bottom: -15px;
        font-family: var(--brand-font-family);
    }
    .banner-tagline {
        font-size: 0.875rem;
        color: var(--text-muted);
        font-style: italic;
    }

    .banner-link {
        display: flex;
        gap: 0.5rem;
        min-width: 84px;
        font-size: 0.875rem;
        font-weight: 300;
        padding: 0.25rem 0.75rem;
        border-radius: 4px;
        background-color: var(--bg-interactive);
        transition: all 0.2s ease;
    }

    .banner-link i {
        font-size: 1.125rem;
        color: var(--spike-blue);
    }

    .banner-link:hover {
        background-color: var(--spike-blue);
    }
</style> <div id="trees">
    <input class="tree-toggle" type="checkbox" id="about"
               />
        <label class="tree-toggle-label "
               for="about">About</label>

        <ul class="subtree">
            <li >
                    <a href="https://spike.ist/about/intro/">About SPIKE</a>
                </li>

                <li >
                    <a href="https://spike.ist/about/project-status/">Project Maturity</a>
                </li>

                </ul>
    <input class="tree-toggle" type="checkbox" id="community"
               />
        <label class="tree-toggle-label "
               for="community">Community</label>

        <ul class="subtree">
            <li >
                    <a href="https://spike.ist/community/hello/">Hello Universe</a>
                </li>

                <li >
                    <a href="https://spike.ist/community/contact/">Contact Us</a>
                </li>

                <li >
                    <a href="https://spike.ist/community/presentations/">Presentations and Demos</a>
                </li>

                <li >
                    <a href="https://spike.ist/community/resources/">Resources</a>
                </li>

                </ul>
    <input class="tree-toggle" type="checkbox" id="getting-started"
               checked/>
        <label class="tree-toggle-label "
               for="getting-started">Getting Started</label>

        <ul class="subtree">
            <li class="active">
                    <a href="https://spike.ist/getting-started/quickstart/">SPIKE Quickstart Guide</a>
                </li>

                
                        
                        
                            <ul id="toc">
                                <li><a href="
                                            https://spike.ist/getting-started/quickstart/#spike-quickstart-guide">SPIKE Quickstart Guide</a>
                                        <ul>
                                                <li>
                                                        <a href="https://spike.ist/getting-started/quickstart/#prerequisites">Prerequisites</a>
                                                    </li>
                                                <li>
                                                        <a href="https://spike.ist/getting-started/quickstart/#for-windows-users">For Windows Users</a>
                                                    </li>
                                                <li>
                                                        <a href="https://spike.ist/getting-started/quickstart/#environment-variables">Environment Variables</a>
                                                    </li>
                                                <li>
                                                        <a href="https://spike.ist/getting-started/quickstart/#starting-minikube">Starting Minikube</a>
                                                    </li>
                                                <li>
                                                        <a href="https://spike.ist/getting-started/quickstart/#deploying-spike-to-minikube">Deploying SPIKE to Minikube</a>
                                                    </li>
                                                <li>
                                                        <a href="https://spike.ist/getting-started/quickstart/#verifying-spike-deployment">Verifying SPIKE Deployment</a>
                                                    </li>
                                                <li>
                                                        <a href="https://spike.ist/getting-started/quickstart/#next-up">Next Up</a>
                                                    </li>
                                                <li>
                                                        <a href="https://spike.ist/getting-started/quickstart/#open-source-is-better-together">Open Source Is Better Together</a>
                                                    </li>
                                                </ul>
                                        </li>
                                </ul>
                        </ul>
    <input class="tree-toggle" type="checkbox" id="using-spike"
               />
        <label class="tree-toggle-label "
               for="using-spike">Using SPIKE</label>

        <ul class="subtree">
            <li >
                    <a href="https://spike.ist/usage/configuration/">Configuring SPIKE</a>
                </li>

                <li >
                    <a href="https://spike.ist/usage/cli/">SPIKE CLI</a>
                </li>

                </ul>
    <input class="tree-toggle" type="checkbox" id="developing-spike"
               />
        <label class="tree-toggle-label "
               for="developing-spike">Developing SPIKE</label>

        <ul class="subtree">
            <li >
                    <a href="https://spike.ist/development/local-deployment/">SPIKE on Kubernetes</a>
                </li>

                <li >
                    <a href="https://spike.ist/development/bare-metal/">SPIKE on Linux</a>
                </li>

                <li >
                    <a href="https://spike.ist/development/sdk-integration/">SDK Integration Guide</a>
                </li>

                <li >
                    <a href="https://spike.ist/development/api-docs/">API Documentation</a>
                </li>

                </ul>
    <input class="tree-toggle" type="checkbox" id="spike-architecture"
               />
        <label class="tree-toggle-label "
               for="spike-architecture">SPIKE Architecture</label>

        <ul class="subtree">
            <li >
                    <a href="https://spike.ist/architecture/system-overview/">System Overview</a>
                </li>

                <li >
                    <a href="https://spike.ist/architecture/security-model/">SPIKE Security Model</a>
                </li>

                <li >
                    <a href="https://spike.ist/architecture/architectural-decision-records/">ADRs</a>
                </li>

                </ul>
    <input class="tree-toggle" type="checkbox" id="tracking"
               />
        <label class="tree-toggle-label "
               for="tracking">Tracking</label>

        <ul class="subtree">
            <li >
                    <a href="https://spike.ist/tracking/changelog/">Changelog</a>
                </li>

                <li >
                    <a href="https://spike.ist/tracking/snapshots/">Documentation Snapshots</a>
                </li>

                </ul>
    <input class="tree-toggle" type="checkbox" id="operations"
               />
        <label class="tree-toggle-label "
               for="operations">Operations</label>

        <ul class="subtree">
            <li >
                    <a href="https://spike.ist/operations/build/">SPIKE Cross-Platform Build</a>
                </li>

                <li >
                    <a href="https://spike.ist/operations/production/">SPIKE Production Setup</a>
                </li>

                <li >
                    <a href="https://spike.ist/operations/recovery/">SPIKE Recovery Procedures</a>
                </li>

                <li >
                    <a href="https://spike.ist/operations/backup/">SPIKE Backup and Restore</a>
                </li>

                <li >
                    <a href="https://spike.ist/operations/release/">SPIKE Relase Management</a>
                </li>

                </ul>
    </div>
<style>
    /* Navigation tree structure */
    #trees {
        padding: 0 1rem;
    }

    .tree-toggle {
        display: none;
    }

    .tree-toggle:checked + .tree-toggle-label + .subtree {
        display: block;
    }

    .tree-toggle-label {
        display: block;
        padding: 0.75rem 1rem;
        margin: 0.25rem 0;
        border-radius: 6px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.2s ease;
    }

    .tree-toggle-label:hover {
        background-color: rgba(0, 0, 0, 0.05);
    }

    .tree-toggle-label::before {
        content: '▸';
        display: inline-block;
        margin-right: 0.5rem;
        transition: transform 0.2s ease;
    }

    .tree-toggle:checked + .tree-toggle-label::before {
        transform: rotate(90deg);
    }

    .subtree {
        display: none;
        margin: 0;
        padding: 0 0 0 1rem;
        list-style: none;
    }

    .subtree li {
        margin: 0.25rem 0;
    }

    .subtree li a {
        display: block;
        padding: 0.5rem 1rem;
        text-decoration: none;
        border-radius: 4px;
        font-size: 0.9375rem;
        transition: all 0.2s ease;
    }

    .subtree li a:hover {
        background-color: rgba(0, 0, 0, 0.05);
    }

    .subtree li.active a {
        font-weight: 600;
        background-color: rgba(0, 0, 0, 0.05);
    }

    /* Table of contents styling */
    #toc {
        margin: 0.5rem 0 0.5rem 1.5rem;
        padding: 0;
        list-style: none;
        font-size: 0.875rem;
    }

    #toc li {
        margin: 0.25rem 0;
    }

    #toc li a {
        padding: 0.375rem 0.75rem;
        opacity: 0.8;
    }

    #toc li a:hover {
        opacity: 1;
    }

    #toc ul {
        margin: 0.25rem 0 0.25rem 1rem;
        padding: 0;
        list-style: none;
    }
</style>
</nav>
<style>
  nav {
    position: sticky;
    width: 300px;
    height: 100vh;
    top: 0;
    max-height: 100vh;
    overflow-y: auto;
    scrollbar-width: thin;
    scrollbar-color: rgba(0, 0, 0, 0.3) transparent;
    z-index: 100;
    box-shadow: 5px 0 20px var(--shadow-color);
    border-right: 1px solid var(--border-color);
    transition: transform 0.4s ease-in-out;
    background-color: var(--bg-primary);
  }

  nav::-webkit-scrollbar {
    width: 8px;
  }

  nav::-webkit-scrollbar-track {
    background: transparent;
  }

  nav::-webkit-scrollbar-thumb {
    background-color: rgba(0, 0, 0, 0.3);
    border-radius: 4px;
    border: 2px solid transparent;
  }

  @media (max-width: 1300px) {
    .nav-toggle {
      display: none;
    }

    nav {
      position: fixed;
      transform: translateX(-100%);
      width: 85%;
      max-width: 300px;
      height: calc(100vh - 57px);
      top: 57px;
    }

    nav.active {
      transform: translateX(0);
    }
  }
</style>


    <div class="content">
        <div class="header">
  <div class="header-content">
    <button
      id="mobile-nav-toggle"
      aria-label="Toggle navigation"
      class="mobile-only"
    >
      <i class="bx bx-menu"></i>
    </button>
    <script>
  document.addEventListener("DOMContentLoaded", () => {
    const searchInput = document.querySelector(".search-input");
    const overlay = document.querySelector(".overlay");
    const searchResults = document.querySelector(".search-results");

    function closeSearch() {
      overlay.style.display = "none";
      searchResults.style.display = "none";
      searchInput.blur();
    }

    function openSearch() {
      overlay.style.display = "block";
      searchResults.style.display = "block";
    }

    searchInput.addEventListener("focus", openSearch);
    overlay.addEventListener("click", closeSearch);
    document.addEventListener("keydown", (e) => {
      if (e.key === "Escape") {
        closeSearch();
      }
    });
  });
</script>
<div class="overlay"></div>
<input class="search-input" type="text" placeholder="Search..." />
<div class="search-results">
  <div class="search-results__header">
    <span class="search-results__count">Waiting for input...</span>
  </div>
  <div class="search-results__items"></div>
</div>

<style>
  .search-input {
    width: 100%;
    padding: 0.5rem 1rem;
    border: 1px solid var(--border-color);
    border-radius: 4px;
    background-color: var(--bg-interactive);
    color: var(--text-primary);
    font-size: 0.875rem;
    transition: all 0.2s ease;
    z-index: 101;
  }

  .search-input:focus {
    outline: none;
    border-color: var(--spike-blue);
    background-color: var(--bg-primary);
    box-shadow: 0 0 0 2px rgba(var(--spike-blue-rgb), 0.2);
  }

  .search-input::placeholder {
    color: var(--text-muted);
  }

  .overlay {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    z-index: 100;
  }

  .search-results {
    display: none;
    position: absolute;
    left: 0;
    right: 0;
    top: 100%;
    max-width: 700px;
    margin: 0.5rem auto;
    background: var(--bg-primary);
    border-radius: 8px;
    box-shadow: 0px 4px 8px 3px rgba(0, 0, 0, 0.1);
    border: 1px solid var(--border-color);
    z-index: 102;
  }

  .search-results__header {
    padding: 0.75rem 1rem;
    color: var(--text-muted);
    font-size: 0.875rem;
    border-bottom: 1px solid var(--border-color);
  }

  .search-results__items {
    max-height: 60vh;
    overflow-y: auto;
  }

  .search-results__item {
    display: block;
    padding: 0.75rem 1rem;
    border-bottom: 1px solid var(--border-color);
    transition: background-color 0.2s ease;
  }

  .search-results__item:hover {
    background-color: var(--bg-interactive);
  }

  .search-results__title {
    color: var(--spike-blue);
    font-size: 0.875rem;
    font-weight: 500;
    margin-bottom: 0.25rem;
  }

  .search-results__preview {
    color: var(--text-secondary);
    font-size: 0.8125rem;
    line-height: 1.4;
  }

  .search-results__preview b {
    color: var(--spike-dark-green);
    font-weight: 600;
  }

  .search-results__items::-webkit-scrollbar {
    width: 4px;
  }

  .search-results__items::-webkit-scrollbar-thumb {
    background: var(--border-color);
    border-radius: 4px;
  }

  /* Empty state */
  .search-results__empty {
    padding: 2rem 1rem;
    text-align: center;
    color: var(--text-muted);
    font-size: 0.875rem;
  }
</style>

    <a
      href="https://github.com/spiffe/spike"
      target="_blank"
      rel="noopener"
      class="github-star"
    >
      <i class="bx bx-star"></i>
      <span>Star <strong>SPIKE</strong> on <strong>GitHub</strong></span>
    </a>
    <button id="theme-toggle" aria-label="Toggle theme">
      <i class="bx bx-sun light-icon"></i>
      <i class="bx bx-moon dark-icon"></i>
    </button>
  </div>
</div>

<style>
  .header {
    position: sticky;
    top: 0;
    background-color: var(--bg-primary);
    padding: 1rem;
    border-bottom: 1px solid var(--border-color);
    box-shadow: 0 4px 6px -1px var(--shadow-color),
      0 2px 4px -1px var(--shadow-color);
    z-index: 101;
  }

  .header-content {
    max-width: 800px;
    margin: 0 auto;
    display: flex;
    align-items: center;
    gap: 1rem;
  }

  #mobile-nav-toggle {
    display: none;
    background: none;
    border: none;
    padding: 0.5rem;
    cursor: pointer;
    color: var(--text-primary);
    font-size: 1.5rem;
    border-radius: 4px;
    transition: all 0.2s ease;
  }

  #mobile-nav-toggle i {
    pointer-events: none;
    display: block;
  }

  #mobile-nav-toggle:hover {
    background-color: var(--bg-interactive);
  }

  @media (max-width: 1300px) {
    #mobile-nav-toggle {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 40px;
      height: 40px;
    }
  }

  #theme-toggle {
    background: none;
    border: none;
    padding: 0.5rem;
    cursor: pointer;
    color: var(--text-primary);
    font-size: 1.25rem;
    border-radius: 4px;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  #theme-toggle:hover {
    background-color: var(--bg-interactive);
  }

  #theme-toggle:active {
    background-color: var(--bg-secondary);
  }

  /* Show/hide icons based on theme */
  [data-theme="dark"] .light-icon,
  :root:not([data-theme="dark"]) .dark-icon {
    display: none;
  }

  /* GitHub Star Button */
  .github-star {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 1rem;
    color: white;
    text-decoration: none;
    background: linear-gradient(
      135deg,
      var(--spike-blue),
      var(--spike-dark-green)
    );
    border-radius: 20px;
    transition: all 0.2s ease;
    font-size: 0.875rem;
    white-space: nowrap;
  }

  .github-star:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(var(--spike-blue-rgb), 0.3);
  }

  .github-star i {
    font-size: 1.1rem;
    animation: starBounce 2s infinite;
    color: #ffd700;
    text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
  }

  @keyframes starBounce {
    0%,
    100% {
      transform: scale(1);
    }
    50% {
      transform: scale(1.2);
    }
  }

  .github-star span {
    white-space: nowrap;
  }

  @media (max-width: 768px) {
    .github-star span {
      display: none;
    }

    .github-star {
      padding: 0.5rem;
    }
  }
</style>

<script>
  // Theme toggle functionality
  document.addEventListener("DOMContentLoaded", () => {
    const themeToggle = document.getElementById("theme-toggle");

    // Function to set theme
    function setTheme(theme) {
      document.documentElement.setAttribute("data-theme", theme);
      localStorage.setItem("theme", theme);
      
      // Update banner image based on theme
      const bannerImage = document.getElementById("banner-image");
      if (bannerImage) {
        bannerImage.src = theme === "dark" 
          ? "/assets/spike-banner-dark-thin.png"
          : "/assets/spike-banner-light-thin.png";
      }
    }

    // Initialize theme
    const savedTheme = localStorage.getItem("theme");
    setTheme(savedTheme ? savedTheme : "dark");
    // Discard system theme changes; the landing page is always dark, so
    // it's better to transition to a dark-by-default theme.
    // } else if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
    //   setTheme("dark");
    // }

    // Toggle theme on button click
    themeToggle.addEventListener("click", () => {
      const currentTheme = document.documentElement.getAttribute("data-theme");
      const newTheme = currentTheme === "dark" ? "light" : "dark";
      setTheme(newTheme);
    });

    // Discard system-theme changes.
    // window
    //   .matchMedia("(prefers-color-scheme: dark)")
    //   .addEventListener("change", (e) => {
    //     if (!localStorage.getItem("theme")) {
    //       setTheme(e.matches ? "dark" : "light");
    //     }
    //   });
  });
</script>


        <article>
            
        <blockquote>
<p><strong>⚠️ Additional Instructions</strong></p>
<p>Since <strong>SPIFFE Helm Charts</strong> do not have <strong>SPIKE Bootstrap</strong> yet, the
instructions on this page have additional guidance to deploy <strong>SPIKE</strong>
using a local <strong>SPIFFE Helm Charts</strong> repo.</p>
<p>We will update this page once <strong>SPIKE Bootstrap</strong> is available in the
upstream <strong>SPIFFE Helm Charts</strong>.</p>
</blockquote>
<h1 id="spike-quickstart-guide"><strong>SPIKE</strong> Quickstart Guide</h1>
<p>The fastest way to get started with <strong>SPIRE</strong> and <strong>SPIKE</strong> is to deploy them
using the official <a href="https://github.com/spiffe/helm-charts-hardened" title="SPIFFE Helm charts (hardened)">SPIFFE Helm chart</a>.</p>
<p>You can deploy SPIKE to any Kubernetes cluster, including a local one like
<a href="https://kind.sigs.k8s.io/" title="KinD: Kubernetes in Docker">KinD</a> or <a href="https://minikube.sigs.k8s.io/" title="Minikube: Run Kubernetes locally">Minikube</a>. We will use <strong>Minikube</strong> in this guide.
Your installation may vary slightly depending on the Kubernetes cluster you
are using, but the general steps will be the same.</p>
<p>We will also use a <a href="https://www.debian.org/" title="Debian: The Universal Operating System">Debian Linux</a> machine throughout this guide, but you
can use any OS that supports SPIFFE, SPIRE, Docker, and Kubernetes. Depending on
your OS, your installation steps may vary slightly, but the general steps will
not change much.</p>
<h2 id="prerequisites">Prerequisites</h2>
<p>Here is a list of things you need to have installed on your machine before
starting with this guide:</p>
<ul>
<li>Have <a href="https://www.docker.com/" title="Docker: Build, Share, and Run Applications">Docker</a> installed and running on your machine.</li>
<li>Have a <a href="https://kubernetes.io/docs/tasks/tools/" title="kubectl: Kubernetes command-line tool"><code>kubectl</code></a> client installed.</li>
<li>Have <a href="https://www.gnu.org/software/make/" title="GNU Make: Build Automation Tool"><code>make</code></a> installed on your machine.</li>
<li>Have a <a href="https://minikube.sigs.k8s.io/" title="Minikube: Run Kubernetes locally"><code>minikube</code></a> binary installed.</li>
<li>Have <a href="https://helm.sh/" title="Helm"><code>helm</code></a> binary installed.</li>
<li>(Optional) install <a href="https://www.getzola.org/" title="Zola"><code>zola</code></a> if you want to build the documentation
locally.</li>
</ul>
<h2 id="for-windows-users">For Windows Users</h2>
<p>The best way to get started on Windows is to use <a href="https://learn.microsoft.com/en-us/windows/wsl/install">Windows Subsystem for
Linux</a>. After installing WSL, make sure to install the prerequisites
(<em><code>docker</code>, <code>kubectl</code>, <code>make</code>, <code>minikube</code>, <code>helm</code></em>) to your WSL distribution
and <strong>not</strong> to your Windows machine.</p>
<h3 id="hosts-file-setup">Hosts File Setup</h3>
<p><strong>SPIKE</strong> bare-metal installation requires that <code>spike.spike.ist</code> is
configured in your <code>/etc/hosts</code> file. However, WSL will automatically override
your Linux hosts wile every time you restart your WSL distribution.</p>
<p>To fix this, edit <code>/etc/wsl.conf</code> and add the following lines:</p>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#65737e;"># sudo vim /etc/wsl.conf
</span><span>
</span><span style="color:#bf616a;">[network]
</span><span style="color:#bf616a;">generateHosts</span><span>=</span><span style="color:#a3be8c;">false
</span></code></pre>
<p>Then update your hosts file:</p>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#65737e;"># sudo vim /etc/hosts
</span><span>
</span><span style="color:#65737e;"># Add the following line:
</span><span style="color:#bf616a;">127.0.0.1</span><span>  spire.spike.ist
</span></code></pre>
<p>Then restart your WSL distribution, and the <code>hosts</code> file is yours to
modify and maintain.</p>
<p>Note that editing <code>C:\Windows\System32\drivers\etc\hosts</code> will <strong>NOT</strong> work.</p>
<h3 id="wsl-memory-lock-limit">WSL Memory Lock Limit</h3>
<p>WSL sets a default <code>RLIMIT_MEMLOCK</code> of 64MB for all shell sessions. This limit
is imposed by WSL’s Relay process before any Linux configuration is read, which
means standard Linux approaches (<em><code>/etc/security/limits.conf</code>, <code>systemd</code>
configs, PAM</em>) cannot override it.</p>
<p>SPIKE uses memory locking (<code>mlock</code>) to prevent sensitive secrets from being
swapped to disk. Failing to lock memory will not stop SPIKE from running,
but you will see warnings in the logs.</p>
<p>WSL spawns your shell via a Windows-side Relay process:</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>Windows WSL (sets 64MB limit) → Relay → your shell
</span></code></pre>
<p>By the time Linux session management runs, the limit is already inherited.
The following have <strong>no</strong> effect on interactive WSL shells:</p>
<ul>
<li><code>/etc/security/limits.conf</code></li>
<li><code>/etc/systemd/user.conf</code></li>
<li><code>/etc/systemd/system.conf</code></li>
<li>PAM configuration</li>
</ul>
<p>These configs <em>do</em> apply to processes spawned through <code>systemd</code>
(<em>e.g., <code>systemd-run --user</code></em>), but not to your default terminal session.</p>
<p>To fix this, you can use the following script:</p>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span>!</span><span style="color:#bf616a;">#/usr/bin/env</span><span> bash
</span><span style="color:#65737e;"># &gt; ulimit -l
</span><span style="color:#65737e;"># 65536
</span><span style="color:#65737e;"># --
</span><span>
</span><span style="color:#65737e;"># Raise memlock limit for SPIKE development
</span><span style="color:#bf616a;">sudo</span><span> prlimit</span><span style="color:#bf616a;"> --memlock</span><span>=unlimited:unlimited \
</span><span style="color:#bf616a;">  --pid </span><span>$</span><span style="color:#bf616a;">$ </span><span style="color:#d08770;">2</span><span>&gt;/dev/null &amp;&amp; </span><span style="color:#96b5b4;">exec</span><span> bash
</span><span>
</span><span style="color:#65737e;"># --
</span><span style="color:#65737e;"># &gt; ulimit -l
</span><span style="color:#65737e;"># unlimited
</span></code></pre>
<p>You can even add this script to your <code>~/.bashrc</code> or <code>~/.zshrc</code> to make it
automatically run on every shell session.</p>
<h2 id="environment-variables">Environment Variables</h2>
<p>It may be useful to set the following environment variables before
you start.</p>
<p>This is a sample configuration; please adjust as needed:</p>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#65737e;"># User Configuration
</span><span style="color:#65737e;">#
</span><span style="color:#65737e;"># Add this to your ~/.bashrc or ~/.zshrc, ~/.profile,
</span><span style="color:#65737e;"># or ~/.zprofile, or wherever you keep your shell config.
</span><span>
</span><span style="color:#b48ead;">export </span><span style="color:#bf616a;">PATH</span><span>=$</span><span style="color:#bf616a;">PATH</span><span style="color:#a3be8c;">:/usr/local/go/bin
</span><span>
</span><span style="color:#65737e;"># If you are using GPG for signing commits:
</span><span style="color:#b48ead;">export </span><span style="color:#bf616a;">GPG_TTY</span><span>=$</span><span style="color:#a3be8c;">(</span><span style="color:#bf616a;">tty</span><span style="color:#a3be8c;">)
</span><span>
</span><span style="color:#65737e;"># This where you clone SPIKE, SPIRE, and SPIFFE Helm Charts:
</span><span style="color:#b48ead;">export </span><span style="color:#bf616a;">WORKSPACE</span><span>=&quot;$</span><span style="color:#bf616a;">HOME</span><span style="color:#a3be8c;">/WORKSPACE</span><span>&quot; 
</span><span>
</span><span style="color:#65737e;"># These are needed for Bare-Metal Installation:
</span><span style="color:#b48ead;">export </span><span style="color:#bf616a;">PATH</span><span>=&quot;$</span><span style="color:#bf616a;">PATH</span><span style="color:#a3be8c;">:</span><span>$</span><span style="color:#bf616a;">WORKSPACE</span><span style="color:#a3be8c;">/spire/bin</span><span>&quot;
</span><span style="color:#b48ead;">export </span><span style="color:#bf616a;">PATH</span><span>=&quot;$</span><span style="color:#bf616a;">PATH</span><span style="color:#a3be8c;">:</span><span>$</span><span style="color:#bf616a;">WORKSPACE</span><span style="color:#a3be8c;">/spike</span><span>&quot;
</span><span>
</span><span style="color:#65737e;"># Optional, but recommended.
</span><span style="color:#96b5b4;">source </span><span>&quot;$</span><span style="color:#bf616a;">WORKSPACE</span><span style="color:#a3be8c;">/spike/hack/lib/env.sh</span><span>&quot;
</span><span style="color:#65737e;"># ^ Note that the `make start` Make target will
</span><span style="color:#65737e;"># automatically source this file for you.
</span></code></pre>
<h2 id="starting-minikube">Starting Minikube</h2>
<p>To start a local Minikube cluster, clone the project repository and run the
following command in the root directory of the project:</p>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#96b5b4;">cd </span><span>$</span><span style="color:#bf616a;">WORKSPACE </span><span style="color:#65737e;"># Replace with your workspace directory
</span><span style="color:#bf616a;">git</span><span> clone https://github.com/spiffe/spike.git
</span><span style="color:#96b5b4;">cd</span><span> spike
</span><span style="color:#bf616a;">make</span><span> docker-cleanup </span><span style="color:#65737e;"># (Optional) Purge docker registry.
</span><span style="color:#bf616a;">make</span><span> k8s-delete     </span><span style="color:#65737e;"># Delete any former Minikube installation.
</span><span style="color:#bf616a;">make</span><span> k8s-start      </span><span style="color:#65737e;"># This will start a Minikube cluster.
</span></code></pre>
<p>If successful, you will have a local Minikube cluster running with the
necessary plugins enabled. You can verify that Minikube is running by executing:</p>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#bf616a;">minikube</span><span> status
</span><span style="color:#65737e;"># or...
</span><span style="color:#bf616a;">kubectl</span><span> get node
</span><span>
</span><span style="color:#65737e;"># Sample Outputs:
</span><span style="color:#65737e;">#
</span><span style="color:#65737e;"># $ minikube status
</span><span style="color:#65737e;"># minikube
</span><span style="color:#65737e;"># type: Control Plane
</span><span style="color:#65737e;"># host: Running
</span><span style="color:#65737e;"># kubelet: Running
</span><span style="color:#65737e;"># apiserver: Running
</span><span style="color:#65737e;"># kubeconfig: Configured
</span><span style="color:#65737e;">#
</span><span style="color:#65737e;"># $ kubectl get node
</span><span style="color:#65737e;"># NAME       STATUS   ROLES           AGE   VERSION
</span><span style="color:#65737e;"># minikube   Ready    control-plane   67s   v1.33.1
</span></code></pre>
<h2 id="deploying-spike-to-minikube">Deploying <strong>SPIKE</strong> to Minikube</h2>
<blockquote>
<p><strong>⚠️ Changes Due to Current Upstream Helm Charts Work</strong></p>
<p>There are some changes to the upstream <strong>SPIFFE Helm Charts</strong> that are
currently in progress. Until they are merged, you will need to use a
feature branch of the upstream repo.</p>
<p>For this, first clone the upstream repo:</p>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#bf616a;">git</span><span> clone https://github.com/spiffe/helm-charts-hardened.git
</span></code></pre>
<p>Then, switch to the <code>spike-next</code> branch:</p>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#96b5b4;">cd</span><span> helm-charts-hardened
</span><span style="color:#bf616a;">git</span><span> checkout spike-next
</span></code></pre>
<p>You can now use the <code>spike-next</code> branch of the upstream repo to deploy
<strong>SPIKE</strong> to Minikube.</p>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#65737e;"># $WORKSPACE is your local workspace directory where you cloned the 
</span><span style="color:#65737e;"># helm-charts-hardened repo and the spike repo.
</span><span>
</span><span style="color:#65737e;"># Create a new namespace for SPIRE components.
</span><span style="color:#bf616a;">kubectl</span><span> create ns spire-mgmt
</span><span>
</span><span style="color:#65737e;"># Deploy the CRDs.
</span><span style="color:#bf616a;">helm</span><span> upgrade</span><span style="color:#bf616a;"> --install -n</span><span> spire-mgmt &quot;</span><span style="color:#a3be8c;">spire-crds</span><span>&quot; &quot;</span><span style="color:#a3be8c;">spire-crds</span><span>&quot; \
</span><span>&quot;</span><span style="color:#a3be8c;">WORKSPACE/helm-charts-hardened/charts/spire-crds</span><span>&quot; \
</span><span style="color:#bf616a;">--create-namespace
</span><span>
</span><span style="color:#65737e;"># Deploy SPIRE and SPIKE components.
</span><span style="color:#bf616a;">helm</span><span> upgrade</span><span style="color:#bf616a;"> --install -n</span><span> spire-mgmt &quot;</span><span style="color:#a3be8c;">spiffe</span><span>&quot; &quot;</span><span style="color:#a3be8c;">spire</span><span>&quot; \
</span><span>&quot;</span><span style="color:#a3be8c;">WORKSPACE/helm-charts-hardened/charts/spire</span><span>&quot; \
</span><span style="color:#bf616a;">-f</span><span> /path/to/your/values.yaml
</span></code></pre>
</blockquote>
<p>spife-helm-charts-hardened: https://spiffe.github.io/helm-charts-hardened/</p>
<p>Once you have Minikube running, you can deploy <strong>SPIKE</strong> to it from
<strong>SPIFFE helm charts</strong>.</p>
<p>First create a <code>values.yaml</code> file to enable SPIKE components:</p>
<pre data-lang="yaml" style="background-color:#2b303b;color:#c0c5ce;" class="language-yaml "><code class="language-yaml" data-lang="yaml"><span style="color:#65737e;"># file: values.yaml
</span><span style="color:#bf616a;">spike-nexus</span><span>:
</span><span>  </span><span style="color:#bf616a;">enabled</span><span>: </span><span style="color:#d08770;">true
</span><span style="color:#bf616a;">spike-keeper</span><span>:
</span><span>  </span><span style="color:#bf616a;">enabled</span><span>: </span><span style="color:#d08770;">true
</span><span style="color:#bf616a;">spike-pilot</span><span>:
</span><span>  </span><span style="color:#bf616a;">enabled</span><span>: </span><span style="color:#d08770;">true
</span><span style="color:#bf616a;">spire-server</span><span>:
</span><span>  </span><span style="color:#bf616a;">enabled</span><span>: </span><span style="color:#d08770;">true
</span><span style="color:#bf616a;">spire-agent</span><span>:
</span><span>  </span><span style="color:#bf616a;">enabled</span><span>: </span><span style="color:#d08770;">true
</span><span style="color:#bf616a;">spiffe-csi-driver</span><span>:
</span><span>  </span><span style="color:#bf616a;">enabled</span><span>: </span><span style="color:#d08770;">true
</span><span style="color:#bf616a;">spiffe-oidc-discovery-provider</span><span>:
</span><span>  </span><span style="color:#bf616a;">enabled</span><span>: </span><span style="color:#d08770;">true
</span></code></pre>
<p>Then deploy SPIKE using the following command:</p>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#bf616a;">helm</span><span> upgrade</span><span style="color:#bf616a;"> --install</span><span> spire-crds spire-crds \
</span><span style="color:#bf616a;">  --repo</span><span> https://spiffe.github.io/helm-charts-hardened/
</span><span>  
</span><span style="color:#bf616a;">helm</span><span> upgrade</span><span style="color:#bf616a;"> --install</span><span> spiffe spire \
</span><span style="color:#bf616a;">  --repo</span><span> https://spiffe.github.io/helm-charts-hardened \
</span><span style="color:#bf616a;">  -f</span><span> ./values.yaml </span><span style="color:#65737e;"># The values.yaml file we created earlier
</span></code></pre>
<h2 id="verifying-spike-deployment">Verifying <strong>SPIKE</strong> Deployment</h2>
<p>First, make sure that your components are up and running.</p>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#bf616a;">kubectl</span><span> get po</span><span style="color:#bf616a;"> -A
</span><span style="color:#65737e;"># Sample Output:
</span><span style="color:#65737e;">#
</span><span style="color:#65737e;"># NAME                                              READY  STATUS 
</span><span style="color:#65737e;"># spike          spiffe-spike-keeper-0              1/1    Running
</span><span style="color:#65737e;"># spike          spiffe-spike-keeper-1              1/1    Running
</span><span style="color:#65737e;"># spike          spiffe-spike-keeper-2              1/1    Running
</span><span style="color:#65737e;"># spike          spiffe-spike-nexus-0               1/1    Running
</span><span style="color:#65737e;"># spike          spiffe-spike-pilot-5ddb88f-jsv9q   1/1    Running
</span><span style="color:#65737e;"># spire-server   spiffe-server-0                    2/2    Running
</span><span style="color:#65737e;"># spire-server   spiffe-oidc-provider-b4b9d-vn2zj   2/2    Running
</span><span style="color:#65737e;"># spire-system   spiffe-agent-lllsv                 1/1    Running
</span><span style="color:#65737e;"># spire-system   spiffe-spiffe-csi-driver-dkbwf     2/2    Running
</span></code></pre>
<p>Once the deployment is complete, you can verify SPIKE is running by
creating a sample secret and reading its value back.</p>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#bf616a;">kubectl</span><span> exec</span><span style="color:#bf616a;"> -it</span><span> deploy/spiffe-spike-pilot -- sh
</span><span style="color:#65737e;"># Shell into the container and run the following commands:
</span><span style="color:#bf616a;">spike</span><span> secret list
</span><span style="color:#65737e;"># Output:
</span><span style="color:#65737e;"># No Secrets found.
</span><span style="color:#bf616a;">spike</span><span> secret put test/creds username=spike password=SPIKERocks
</span><span style="color:#65737e;"># Output:
</span><span style="color:#65737e;"># OK
</span><span style="color:#bf616a;">spike</span><span> secret list
</span><span style="color:#65737e;"># Output:
</span><span style="color:#65737e;"># - test/creds
</span><span style="color:#bf616a;">spike</span><span> secret get test/creds
</span><span style="color:#65737e;"># Output:
</span><span style="color:#65737e;"># password: SPIKERocks
</span><span style="color:#65737e;"># username: spike
</span></code></pre>
<h2 id="next-up">Next Up</h2>
<p>You are all set. You have successfully deployed <strong>SPIKE</strong> to your local
Minikube cluster. Explore other parts of the documentation to learn more about
using <strong>SPIKE</strong>.</p>
<p>Here are a few links to get you started:</p>
<ul>
<li><a href="https://spike.ist/development/local-deployment/" title="Building SPIKE Locally and Deploying to Minikube">Building <strong>SPIKE</strong> Locally and Deploying to Minikube</a></li>
<li><a href="https://spike.ist/development/bare-metal/" title="Bare Metal SPIKE Installation">Bare Metal <strong>SPIKE</strong> Installation</a></li>
<li><a href="https://spike.ist/usage/configuration/" title="Configuring SPIKE">Configuring <strong>SPIKE</strong></a></li>
<li><a href="https://spike.ist/architecture/" title="SPIKE Architecture"><strong>SPIKE</strong> Architecture</a></li>
<li><a href="https://spike.ist/operations/production/" title="SPIKE Production Hardening Guide"><strong>SPIKE</strong> Production Hardening Guide</a></li>
<li><a href="https://spike.ist/usage/commands/"><strong>SPIKE</strong> CLI Reference</a></li>
</ul>
<h2 id="open-source-is-better-together">Open Source Is Better Together</h2>
<p><a href="https://spike.ist/community/hello/" title="Open Source is better together."><strong>Join the SPIKE community</strong></a> to ask your questions and
learn from the subject-matter experts.</p>
<p>&nbsp;</p>
<hr />
<ul>
<li><a href="https://spike.ist/getting-started/quickstart/">SPIKE Quickstart Guide</a></li>
</ul>
<hr />
<ul>
<li><a href="https://spike.ist/about/">About</a></li>
<li><a href="https://spike.ist/community/">Community</a></li>
<li><a href="https://spike.ist/getting-started/">Getting Started</a></li>
<li><a href="https://spike.ist/usage/">Using SPIKE</a></li>
<li><a href="https://spike.ist/development/">Developing SPIKE</a></li>
<li><a href="https://spike.ist/architecture/">SPIKE Architecture</a></li>
<li><a href="https://spike.ist/tracking/">Tracking</a></li>
<li><a href="https://spike.ist/operations/">Operations</a></li>
</ul>

    
        </article>

        <footer id="footer">
            Copyright © 2024-present <strong>SPIKE Contributors</strong>.<br>
            <strong>SPIKE</strong>'s code
            is distributed under <a href="https://www.apache.org/licenses/LICENSE-2.0">Apache (v2.0)</a>.
            <br>
            The documentation on this website
            is distributed under <a href="https://creativecommons.org/licenses/by/4.0/">CC-BY-4.0</a>.
            <br><br>
            We <strong>do not</strong> collect your data.
            This site <strong>does not</strong> use any tracking cookies or scripts.
        </footer>
    </div>

</main>


    <script type="text/javascript" src="https://spike.ist/elasticlunr.min.js" defer></script>
    <script type="text/javascript" src="https://spike.ist/search_index.en.js" defer></script>
<script type="text/javascript" src="https://spike.ist/js.js" defer></script>
</body>
</html>
<style>
body {
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0;
    font-family: var(--font-family);
    background-color: var(--bg-primary);
    color: var(--text-primary);
}

main {
    width: 100vw;
    max-width: 1920px;
    display: flex;
    flex-direction: row;
    overflow: hidden;
}

#footer {
    text-align: center;
    padding: 2rem;
    font-size: 0.875rem;
    color: var(--text-muted);
    border-top: 1px solid var(--border-color);
    margin-top: 2rem;
}

.content {
    display: flex;
    flex-direction: column;
    flex: 1;
    height: 100vh;
    overflow-y: auto;
    background-color: var(--bg-primary);
    line-height: 1.6;
    border-left: 1px solid var(--border-color);
}

#footer a {
    color: var(--spike-blue);
    text-decoration: none;
    transition: all 0.2s ease;
    border-bottom: 1px solid transparent;
    font-weight: 500;

}

#footer a:hover {
    border-bottom-color: var(--spike-blue);
}

</style>